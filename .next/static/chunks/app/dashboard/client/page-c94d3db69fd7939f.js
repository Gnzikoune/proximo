(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[335],{5912:function(e,t,r){Promise.resolve().then(r.bind(r,1668))},1668:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var s=r(7437),n=r(2265),a=r(7648),l=r(2869),i=r(6070),o=r(4794),d=r(525),c=r(1723),u=r(166),f=r(5974),x=r(314),m=r(4508);let h=n.forwardRef((e,t)=>{let{className:r,children:n,...a}=e;return(0,s.jsxs)(x.fC,{ref:t,className:(0,m.cn)("relative overflow-hidden",r),...a,children:[(0,s.jsx)(x.l_,{className:"h-full w-full rounded-[inherit]",children:n}),(0,s.jsx)(p,{}),(0,s.jsx)(x.Ns,{})]})});h.displayName=x.fC.displayName;let p=n.forwardRef((e,t)=>{let{className:r,orientation:n="vertical",...a}=e;return(0,s.jsx)(x.gb,{ref:t,orientation:n,className:(0,m.cn)("flex touch-none select-none transition-colors","vertical"===n&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===n&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...a,children:(0,s.jsx)(x.q4,{className:"relative flex-1 rounded-full bg-border"})})});p.displayName=x.gb.displayName;let g={pending:{label:"En attente",color:"bg-yellow-500"},in_progress:{label:"En cours",color:"bg-blue-500"},delivered:{label:"Livr\xe9e",color:"bg-green-500"}};function v(e){let{requests:t}=e;return(0,s.jsxs)(i.Zb,{children:[(0,s.jsx)(i.Ol,{children:(0,s.jsx)(i.ll,{children:"Demandes r\xe9centes"})}),(0,s.jsx)(i.aY,{children:(0,s.jsx)(h,{className:"h-[300px] pr-4",children:(0,s.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium",children:e.destination}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(e.date).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),(0,s.jsxs)("div",{className:"space-y-1 text-right",children:[(0,s.jsx)(f.C,{variant:"secondary",className:g[e.status].color,children:g[e.status].label}),(0,s.jsxs)("p",{className:"text-sm font-medium",children:[e.amount.toLocaleString("fr-FR")," FCFA"]})]})]},e.id))})})})]})}let b=0,j=new Map,y=e=>{if(j.has(e))return;let t=setTimeout(()=>{j.delete(e),T({type:"REMOVE_TOAST",toastId:e})},1e6);j.set(e,t)},N=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?y(r):e.toasts.forEach(e=>{y(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},w=[],S={toasts:[]};function T(e){S=N(S,e),w.forEach(e=>{e(S)})}function _(e){let{...t}=e,r=(b=(b+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>T({type:"DISMISS_TOAST",toastId:r});return T({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>T({type:"UPDATE_TOAST",toast:{...e,id:r}})}}let O=(0,u.default)(()=>r.e(362).then(r.bind(r,4362)),{loadableGenerated:{webpack:()=>[4362]},loading:()=>(0,s.jsx)("p",{children:"Chargement de la carte..."}),ssr:!1});function C(){let[e,t]=(0,n.useState)([]),[r,u]=(0,n.useState)(!0),{toast:f}=function(){let[e,t]=n.useState(S);return n.useEffect(()=>(w.push(t),()=>{let e=w.indexOf(t);e>-1&&w.splice(e,1)}),[e]),{...e,toast:_,dismiss:e=>T({type:"DISMISS_TOAST",toastId:e})}}();(0,n.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/requests"),r=await e.json();t(r)}catch(e){f({title:"Erreur",description:"Impossible de charger les demandes r\xe9centes",variant:"destructive"})}finally{u(!1)}};e();let r=setInterval(e,3e4);return()=>{clearInterval(r)}},[f]);let x=e.filter(e=>"in_progress"===e.status).length,m=e.filter(e=>{let t=new Date(e.date),r=new Date;return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}).reduce((e,t)=>e+t.amount,0);return(0,s.jsxs)("div",{className:"space-y-6 p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Tableau de bord"}),(0,s.jsx)(l.z,{asChild:!0,children:(0,s.jsxs)(a.default,{href:"/dashboard/client/new-request",children:[(0,s.jsx)(o.Z,{className:"mr-2 h-4 w-4"})," Nouvelle demande"]})})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Livraisons en cours"}),(0,s.jsx)(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:x})})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"D\xe9penses du mois"}),(0,s.jsx)(d.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[m.toLocaleString("fr-FR")," FCFA"]})})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Temps moyen de livraison"}),(0,s.jsx)(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:"2.5 heures"})})]}),(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Satisfaction client"}),(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:[(0,s.jsx)("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),(0,s.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,s.jsx)("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"})]})]}),(0,s.jsx)(i.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:"98%"})})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[r?(0,s.jsx)("div",{children:"Chargement des demandes..."}):(0,s.jsx)(v,{requests:e}),(0,s.jsx)(O,{})]})]})}},5974:function(e,t,r){"use strict";r.d(t,{C:function(){return i}});var s=r(7437);r(2265);var n=r(535),a=r(4508);let l=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...n}=e;return(0,s.jsx)("div",{className:(0,a.cn)(l({variant:r}),t),...n})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(7437),n=r(2265),a=r(7053),l=r(535),i=r(4508);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:d=!1,...c}=e,u=d?a.g7:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:n,size:l,className:r})),ref:t,...c})});d.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return c},eW:function(){return u},ll:function(){return o}});var s=r(7437),n=r(2265),a=r(4508);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})});u.displayName="CardFooter"},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(1994),n=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[569,972,706,971,117,744],function(){return e(e.s=5912)}),_N_E=e.O()}]);